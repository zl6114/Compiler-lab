Note that each submission has not been looked at manually, they
have only been randomly sampled to get an idea if the test automation.
is working for most submission. If the build system appears
to be broken, please raise an issue (though stability of these
runs is not a huge priority).

zl6114 : Cloning repo
Cloning into 'zl6114'...
zl6114 : Checking out branch soft-2017-01-26 if it exists...
error: pathspec 'soft-2017-01-26' did not match any file(s) known to git.
zl6114 : Checking out specified hash and creating new branch soft-2017-01-26
Switched to a new branch 'soft-2017-01-26'
Already on 'soft-2017-01-26'
zl6114 : Checking we're on the right hash 4ba039093a70fb34193b0add6d7004cff7034ae8...
cd tmp/$U && git rev-parse $RUN

do_or_die "Overwriting test inputs with ones from spec." \
    cp $SCRATCH/spec/1-regexes/a/test/in/??.txt $REPO/1-regexes/a/test/in
zl6114 : Overwriting test inputs with ones from spec.

do_or_die "Overwriting test outputs with ones from spec." \
    cp $SCRATCH/spec/1-regexes/a/test/ref/??.stdout.txt $REPO/1-regexes/a/test/ref
zl6114 : Overwriting test outputs with ones from spec.

do_or_die "Overwriting test_lexer.sh with one from spec." \
    cp $SCRATCH/spec/1-regexes/a/test_lexer.sh $REPO/1-regexes/a/test_lexer.sh
zl6114 : Overwriting test_lexer.sh with one from spec.

do_or_die "Ensuring test_lexer.sh is executable." \
    chmod u+x $REPO/1-regexes/a/test_lexer.sh
zl6114 : Ensuring test_lexer.sh is executable.


log_msg "########################################################"
zl6114 : ########################################################
log_msg "## Part 1"
zl6114 : ## Part 1

log_msg "Part 1 : Removing any existing binary"
zl6114 : Part 1 : Removing any existing binary
(cd $REPO/1-regexes/a && rm histogram)
rm: cannot remove 'histogram': No such file or directory

log_msg "Part 1 : Running test"
zl6114 : Part 1 : Running test
(cd $REPO/1-regexes/a && ./test_lexer.sh)
========================================
 Cleaning the temporaries and outputs
rm histogram histogram.exe
rm: cannot remove 'histogram': No such file or directory
rm: cannot remove 'histogram.exe': No such file or directory
makefile:10: recipe for target 'clean' failed
make: [clean] Error 1 (ignored)
rm *.yy.cpp
rm: cannot remove '*.yy.cpp': No such file or directory
makefile:10: recipe for target 'clean' failed
make: [clean] Error 1 (ignored)
rm test/out/*
rm: cannot remove 'test/out/*': No such file or directory
makefile:10: recipe for target 'clean' failed
make: [clean] Error 1 (ignored)
 Force building histogram
flex -o histogram_lexer.yy.cpp  histogram_lexer.flex
g++ -W -Wall -g -std=gnu++11 -o histogram  histogram_lexer.yy.cpp histogram_main.cpp
histogram_lexer.flex: In function ‘int yylex()’:
histogram_lexer.flex:30:39: warning: too many arguments for format [-Wformat-extra-args]
 \n       { fprintf(stderr, "Newline\n", *yytext); }
                                       ^
histogram_lexer.yy.cpp: In function ‘int yy_get_next_buffer()’:
histogram_lexer.yy.cpp:1053:44: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
  if ((int) ((yy_n_chars) + number_to_move) > YY_CURRENT_BUFFER_LVALUE->yy_buf_size) {
                                            ^
histogram_lexer.yy.cpp: At global scope:
histogram_lexer.yy.cpp:1129:17: warning: ‘void yyunput(int, char*)’ defined but not used [-Wunused-function]
     static void yyunput (int c, char * yy_bp )
                 ^

=========================================
===========================

Input file : test/in/01.txt
===========================

Input file : test/in/02.txt
===========================

Input file : test/in/03.txt
===========================

Input file : test/in/04.txt
===========================

Input file : test/in/05.txt
===========================

Input file : test/in/06.txt
===========================

Input file : test/in/07.txt
===========================

Input file : test/in/08.txt
===========================

Input file : test/in/09.txt
===========================

Input file : test/in/10.txt
===========================

Input file : test/in/11.txt
===========================

Input file : test/in/12.txt
===========================

Input file : test/in/13.txt
===========================

Input file : test/in/14.txt
===========================

Input file : test/in/15.txt
===========================

Input file : test/in/16.txt
===========================

Input file : test/in/17.txt
===========================

Input file : test/in/18.txt
===========================

Input file : test/in/19.txt
===========================

Input file : test/in/20.txt
===========================

Input file : test/in/21.txt
===========================

Input file : test/in/22.txt
===========================

Input file : test/in/23.txt
===========================

Input file : test/in/24.txt
===========================

Input file : test/in/25.txt
===========================

Input file : test/in/26.txt
===========================

Input file : test/in/27.txt
########################################
Passed 27 out of 27.


log_msg "Part 1 : Capturing outputs"
zl6114 : Part 1 : Capturing outputs
tar -czf $LOGDIR/1-regexes-a.tar.gz  $REPO/1-regexes/a/test/out/*


log_msg "########################################################"
zl6114 : ########################################################
log_msg "## Part 2"
zl6114 : ## Part 2

log_msg "Part 2 : Removing any existing binary"
zl6114 : Part 2 : Removing any existing binary
(cd $REPO/1-regexes/b && rm regex_substitute)
rm: cannot remove 'regex_substitute': No such file or directory

log_msg "Part 2 : Attempting to build regex_substitute"
zl6114 : Part 2 : Attempting to build regex_substitute
(cd $REPO/1-regexes/b && make regex_substitute)
g++  -std=c++11 -W -Wall -g    regex_substitute.cpp   -o regex_substitute
regex_substitute.cpp:6:14: warning: unused parameter ‘argc’ [-Wunused-parameter]
 int main(int argc, char *argv[])
              ^

if [[ -f $REPO/1-regexes/b/regex_substitute ]]; then
    log_msg "Part 2 : Putting value through, expecting output of 'yxzx'"
    (cd $REPO/1-regexes/b && echo "xyxz" | ./regex_substitute "(.)(.)" "\2\1")
else
    log_msg "Part 2 : No binary built"
fi
zl6114 : Part 2 : Putting value through, expecting output of 'yxzx'
yxzx


log_msg "########################################################"
zl6114 : ########################################################
log_msg "## Part 3"
zl6114 : ## Part 3

log_msg "Part 3 : Removing any existing binary"
zl6114 : Part 3 : Removing any existing binary
(cd $REPO/1-regexes/c && rm bin/regex_engine)
rm: cannot remove 'bin/regex_engine': No such file or directory

log_msg "Part 3 : Attempting to build bin/regex_engine"
zl6114 : Part 3 : Attempting to build bin/regex_engine
(cd $REPO/1-regexes/c && make bin/regex_engine)
make: *** No rule to make target 'bin/regex_engine'.  Stop.

if [[ -f $REPO/1-regexes/c/bin/regex_engine ]]; then
    log_msg "Part 3 : Single check, expect NoMatch,Match,Match,NoMatch"
    (cd $REPO/1-regexes/c && echo -e "a\nab\nabb\nabab" | bin/regex_engine "ab+" )
else
    log_msg "Part 3 : No binary built"
fi
zl6114 : Part 3 : No binary built

zl6114 : Test Complete
